<ion-header>
    <ion-toolbar color="secondary">
        <ion-buttons slot="start">
            <ion-back-button
                text=""
                defaultHref="/tabs/job-listing"
            ></ion-back-button>
        </ion-buttons>
        <ion-title *ngIf="listing">{{ listing.title }}</ion-title>
        <ion-button
            *ngIf="bookmarkState.includes(bookmarkId)"
            slot="end"
            fill="clear"
            color="warning"
            class="ion-no-padding ion-no-margin"
            (click)="onBookmark(listing)"
        >
            <ion-icon name="bookmark"></ion-icon>
        </ion-button>
        <ion-button
            *ngIf="!bookmarkState.includes(bookmarkId)"
            slot="end"
            fill="clear"
            color="light"
            class="ion-no-padding ion-no-margin"
            (click)="onBookmark(listing)"
        >
            <ion-icon name="bookmark"></ion-icon>
        </ion-button>
    </ion-toolbar>
</ion-header>

<ion-content color="secondary">
    <ion-row>
        <ion-col size-sm="8">
            <div id="map" style="height:30vh;"></div>
        </ion-col>
    </ion-row>

    <ion-row>
        <ion-col size-sm="8">
            <div *ngIf="companyDetails" class="employer">
                <div class="employer-name">
                    <h4 class="employer-nam">{{ companyDetails.name }}</h4>
                </div>
                <div class="employer-details">
                    <div class="employer-details--image">
                        <img
                            src="https://api.adorable.io/avatars/50/xoxo@adorable.png"
                            [alt]="companyDetails.name"
                        />
                    </div>
                    <p class="employer-details--summary">
                        {{ companyDetails.summary }} Lorem ipsum dolor sit amet
                        consectetur adipisicing elit. Tenetur porro explicabo
                        doloremque, libero delectus dignissimos fugiat,
                        reiciendis repellat neque autem pariatur aut
                        reprehenderit itaque! Natus sint illum veniam enim
                        aperiam?
                    </p>
                </div>
                <div class="employer-address">
                    <p class="employer-address--title">Address</p>
                    <div class="employer-address--details">
                        <p>{{ companyDetails.province }}</p>
                        <p>{{ companyDetails.city }}</p>
                        <p>{{ companyDetails.area }}</p>
                        <p>{{ companyDetails.address }}</p>
                    </div>
                </div>
            </div>
        </ion-col>
    </ion-row>

    <ion-row>
        <ion-col size-sm="8">
            <div *ngIf="listing" class="detail">
                <div class="ion-text-center" *ngIf="isLoading">
                    <ion-spinner color="primary"></ion-spinner>
                </div>
                <ion-grid class="ion-no-padding" *ngIf="!isLoading">
                    <ion-row>
                        <ion-col class="ion-no-padding">
                            <div class="employer-job">
                                <div class="company-title--job ion-text-center">
                                    <h4>{{ listing.title }}</h4>
                                </div>
                            </div>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="ion-text-center">
                            <ion-text color="dark" *ngIf="listing"
                                ><p>{{ listing.description }}</p>
                            </ion-text>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="ion-no-padding"> </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="ion-text-center">
                            <ion-button
                                expand="block"
                                color="warning"
                                *ngIf="isAppliable"
                                >Apply
                            </ion-button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </div>
        </ion-col>
    </ion-row>
</ion-content>
