<ion-content>
    <ion-grid>
        <ion-row>
            <ion-col size-sm="3">
                <div class="reset">
                    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
                    <div class="reset-form">
                        <ion-list>
                            
                            <div class="form-group">
                                <ion-list-header class="ion-no-padding">Email</ion-list-header>
                                <ion-item>
                                    <ion-input clearInput="true" [value]="emailAddress" type="text" formControlName="email" class="form-control"></ion-input>
                                    <!-- FIXME validation not working properly  -->
                                    <!-- TODO  -->
                                    <div *ngIf="submitted && !!formFields.email.errors" class="reset-error">
                                        <div *ngIf="!!formFields.email.errors.required">First Name is required</div>
                                    </div>
                                </ion-item>
                            </div>
                            
                            <div>
                                <ion-list-header class="ion-no-padding">Reset Code</ion-list-header>
                                <ion-item class="form-group">
                                    <ion-input clearInput="true" type="text" formControlName="token" class="form-control" [ngClass]="{ 'is-invalid': submitted && formFields.token.errors }"></ion-input>
                                    <div *ngIf="submitted && !!formFields.token.errors" class="invalid-feedback">
                                        <div *ngIf="!!formFields.token.errors.required">Reset Code is required</div>
                                    </div>
                                </ion-item>
                            </div>
            
            
                            <div>
                                <ion-list-header for="password" class="ion-no-padding">New Password</ion-list-header>
                                <ion-item class="form-group">
                                    <ion-input clearInput="true" type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && formFields.password.errors }"></ion-input>
                                    <div *ngIf="submitted &&!!formFields.password.errors" class="invalid-feedback">
                                        <div *ngIf="!!formFields.password.errors.required">Password is required</div>
                                        <div *ngIf="!!formFields.password.errors.minlength">Password must be at least 6 characters</div>
                                    </div>
                                </ion-item>
                            </div>
                            
                        </ion-list>
                
                        <section class="form-group">
                            <ion-button type="submit" expand="block" color="secondary">Reset Password</ion-button>
                        </section>
                        <section class="form-group ion-text-center ion-padding">
                            <ion-label routerLink="/login" class="btn btn-link">Cancel</ion-label>
                        </section>
                    </div>
                    </form>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>